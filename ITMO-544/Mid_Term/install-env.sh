
#!/bin/sh


sudo apt-get -y update
echo "/////////////////////////////////////////////////////////////////installing apache2////////////////////////////////////////////////////"
sudo apt-get -y install apache2
sudo apt-get -y update
sudo apt-get -y install apache2
echo "//////////////////////////////////////////////////////////////installing php///////////////////////////////////////////////////////////////"
sudo apt-get -y install php
echo "//////////////////////////////////////////////////////////////installing php-gd/////////////////////////////////////////////////////////////"
sudo apt-get -y install php-gd
echo "///////////////////////////////////////////////////////////////installing mysql-server////////////////////////////////////////////////////////"
sudo apt-get -y install mysql-server
echo "////////////////////////////////////////////////////////////////installing php-mysql/////////////////////////////////////////////////////////"
sudo apt-get -y install php-mysql
echo "//////////////////////////////////////////////////////////////////installing php.2.xml////////////////////////////////////////////////////////"
sudo apt-get -y install php7.2.xml
echo "/////////////////////////////////////////////////////////////////////installing php-xml///////////////////////////////////////////////////"
sudo apt-get -y install php-xml
sudo apt-get -y install unzip zip

echo "//////////////////////////////////////////////////////////////////////installing composer-setup////////////////////////////////////////////"
php -r "copy('https://getcomposer.org/installer', 'composer-setup.php');"
php -r "if (hash_file('sha384', 'composer-setup.php') === 'a5c698ffe4b8e849a443b120cd5ba38043260d5c4023dbf93e1558871f1f07f58274fc6f4c93bcfd858c6bd0775cd8d1') { echo 'Installer verified'; } else { echo 'Installer corrupt'; unlink('composer-setup.php'); } echo PHP_EOL;"
php composer-setup.php
php -r "unlink('composer-setup.php');"


echo "///////////////////////////////////////////////compser-setup finished///////////////////////////////////////////////////////////////////////////////"
php -d memory_limit=-1 composer.phar require aws/aws-sdk-php


echo "//////////////////////////////////////////////////// apache enable and start////////////////////////////////////////////////////////////////////////////////"
sudo systemctl enable apache2
sudo systemctl start apache2
cd ~/.ssh
echo "/////////////////////////////////////////////////////////////////github repo cloneing ///////////////////////////////////////////////////////////////////////"
git clone git@github.com:illinoistech-itm/pjain24.git
echo "//////////////////////////////////////////////////////////////////copying index.php to /var/www/html///////////////////////////////////////////////////"
sudo cp pjain24/ITMO-544/Week-7/index.php /var/www/html
 exit $RESULT                                                                                                                                            